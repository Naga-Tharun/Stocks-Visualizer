<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>StocksVisualizerClient</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://raw.githack.com/jamesleesaunders/d3-ez/master/dist/d3-ez.js"></script>
  <link rel="stylesheet" type="text/css" href="https://rawgit.com/jamesleesaunders/d3.ez/master/dist/d3-ez.css" />
</head>
<body>
  <app-root></app-root>
  <!-- <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://raw.githack.com/jamesleesaunders/d3-ez/master/dist/d3-ez.js"></script>
  <script type="text/javascript">

    function formatDate(date) {
      const year = date.getFullYear();
      const month = (date.getMonth() + 1).toString().padStart(2, '0');
      const day = date.getDate().toString().padStart(2, '0');
      return `${year}-${month}-${day}`;
    }

    // Function to generate random data for a single day
    function generateRandomDataForDay() {
      const open = Math.random() * 100 + 100; // Random value between 100 and 200
      const close = Math.random() * 100 + 100;
      const high = Math.max(open, close) + Math.random() * 20; // Random value between open and close + 20
      const low = Math.min(open, close) - Math.random() * 20; // Random value between open and close - 20

      return {
        date: new Date().toISOString(),
        open,
        high,
        low,
        close,
      };
    }

    // Function to generate data for 10 days
    function generateDataFor10Days() {
      const data = [];
      const startDate = new Date('2024-01-02');

      const dates = ['2022-01-01', '2022-01-02', '2022-01-03', '2022-01-04', '2022-01-05', '2022-01-06', '2022-01-07', '2022-01-08', '2022-01-09', '2022-01-10'];

      // Generate data for each day
      for (let i = 0; i < 10; i++) {
        const currentDate = new Date(startDate); // Use the current date
        currentDate.setDate(dates[i]); // Increment the date for each day

        // Format the date as 'YYYY-MM-DD'
        const formattedDate = formatDate(currentDate);

        const dayData = {
          date: dates[i],
          ...generateRandomDataForDay(),
        };

        dayData.date = dates[i];

        data.push(dayData);
      }

      // Return the generated data
      return data;
    }

    // Example usage
    const generatedData = generateDataFor10Days();
    console.log(JSON.stringify(generatedData, null, 2));


    var jsonData = {
      "key": "Bitcoin",
      "values": generatedData
    };
    // d3.json("candlestick_data.json").then(function(data) {

      var chart = d3.ez.chart.candlestickChart();
      var legend = d3.ez.component.legend().title("Cryptocoin Price");
      var title = d3.ez.component.title().mainText("Cryptocoin Price").subText("Cryptocoin Price");

      // Create chart base
      var myChart = d3.ez.base()
        .width(750)
        .height(400)
        .chart(chart)
        .legend(legend)
        .title(title)
        .on("customValueMouseOver", function(d) {
          d3.select("#message").text(d.value);
        })
        .on("customSeriesClick", function(d) {
          console.log(d);
        });

      d3.select('#chartholder')
        .datum(jsonData)
        .call(myChart);

    // });
  </script> -->
</body>
</html>
  